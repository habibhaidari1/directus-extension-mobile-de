import{defineInterface as e}from"@directus/extensions-sdk";import{defineComponent as a,computed as t,ref as l,onMounted as s,resolveComponent as i,openBlock as n,createBlock as o,watch as d,createElementBlock as r,createCommentVNode as c,createVNode as u}from"vue";var m=a({__name:"interface",props:{value:{default:null},type:{},disabled:{type:Boolean,default:!1},reference_data_type:{}},emits:["input"],setup(e,{emit:a}){const d=e,r=a,c=t({get:()=>d.value,set:e=>{r("input",e)}}),u=l([]),m=l(!1);return s((async()=>{m.value=!0;try{const e=await fetch(`/mobile-de/refdata/${d.reference_data_type}`);if(!e.ok)throw new Error(`Failed to fetch data, status: ${e.status}`);u.value=await e.json()}catch(e){console.error("Failed to load Site Independent Reference Data:",e)}finally{m.value=!1}})),(e,a)=>{const t=i("v-select");return n(),o(t,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),items:u.value,"item-text":"description","item-value":"name",disabled:e.disabled,loading:m.value},null,8,["modelValue","items","disabled","loading"])}}}),p=(e,a)=>{const t=e.__vccOpts||e;for(const[e,l]of a)t[e]=l;return t};const v={endpoint:"categories",path:["classes"]},f={endpoint:"vatrates",path:["sites"]},y={endpoint:"usedcarseals",path:["sites","classes"]},b=["airbags","batterymanufacturers","batteries","batterypositions","bendinglightstypes","bikegeartypes","bikesuitablefor","breakdownservices","climatisations","colors","conditions","countryversion","daytimerunninglamps","doorcounts","drivingcabs","drivingmodes","drivetypes","emissionclasses","emissionstickers","framematerials","frameshapes","fuelconsumptionunits","fuels","gearboxes","headlighttypes","heatingtypes","heighttypes","hydraulicinstallations","interiorcolors","interiortypes","lengthtypes","motorpositions","nominalinterestratetypes","parkingassistants","paybackperiods","petroltypes","plugtypes","pricerating","pricetypes","radiotypes","slidingdoortypes","speedcontrols","trailercouplingtypes","usagetypes","wheelbases","wheelformulas"];var h=e({id:"mobile-de-interface-site-independent-refdata-select",name:"Mobile.de Site Independent Reference Data",description:"Mobile.de Seller API Site Independent Reference Data Types",icon:"directions_car",component:p(m,[["__file","interface.vue"]]),types:["string"],group:"selection",options:()=>({standard:[{field:"reference_data_type",name:"Reference Data Type",type:"string",meta:{required:!0,width:"full",interface:"select-dropdown",options:{choices:b.map((e=>({text:e,value:e})))}}}],advanced:[]})}),g=e({id:"mobile-de-interface-usedcarseals-select",name:"Mobile.de used car seals",description:"Mobile DE Seller API used car seals",icon:"directions_car",component:p(a({__name:"interface",props:{value:{default:null},type:{},disabled:{type:Boolean,default:!1},sites:{},classes:{}},emits:["input"],setup(e,{emit:a}){const d=e,r=a,c=t({get:()=>d.value,set:e=>{r("input",e)}}),u=l([]),m=l(!1);return s((async()=>{m.value=!0;try{const e=await fetch(`/mobile-de/refdata/sites/${d.sites}/classes/${d.classes}/usedcarseals`);if(!e.ok)throw new Error(`Failed to fetch data, status: ${e.status}`);u.value=await e.json()}catch(e){console.error("Failed to load Reference Data:",e)}finally{m.value=!1}})),(e,a)=>{const t=i("v-select");return n(),o(t,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),items:u.value,"item-text":"description","item-value":"name",disabled:e.disabled,loading:m.value},null,8,["modelValue","items","disabled","loading"])}}}),[["__file","interface.vue"]]),types:["string"],group:"selection",options:()=>({standard:y.path.map((e=>({field:e,name:e,type:"string",meta:{width:"half",interface:"input",options:{label:e,trim:!0}}}))),advanced:[]})}),w=e({id:"mobile-de-interface-vatrates-select",name:"Mobile.de Vat Rates",description:"Mobile DE Seller API Vat Rates",icon:"directions_car",component:p(a({__name:"interface",props:{value:{default:null},type:{},disabled:{type:Boolean,default:!1},sites:{}},emits:["input"],setup(e,{emit:a}){const d=e,r=a,c=t({get:()=>d.value,set:e=>{r("input",e)}}),u=l([]),m=l(!1);return s((async()=>{m.value=!0;try{const e=await fetch(`/mobile-de/refdata/sites/${d.sites}/vatrates`);if(!e.ok)throw new Error(`Failed to fetch data, status: ${e.status}`);u.value=await e.json()}catch(e){console.error("Failed to load Reference Data:",e)}finally{m.value=!1}})),(e,a)=>{const t=i("v-select");return n(),o(t,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),items:u.value,"item-text":"name","item-value":"name",disabled:e.disabled,loading:m.value},null,8,["modelValue","items","disabled","loading"])}}}),[["__file","interface.vue"]]),types:["string"],group:"selection",options:()=>({standard:f.path.map((e=>({field:e,name:e,type:"string",meta:{width:"half",interface:"input",options:{label:e,trim:!0}}}))),advanced:[]})}),_=e({id:"mobile-de-interface-categories-select",name:"Mobile.de Categories",description:"Mobile DE Seller API Categories",icon:"directions_car",component:p(a({__name:"interface",props:{value:{default:null},type:{},disabled:{type:Boolean,default:!1},classes:{}},emits:["input"],setup(e,{emit:a}){const d=e,r=a,c=t({get:()=>d.value,set:e=>{r("input",e)}}),u=l([]),m=l(!1);return s((async()=>{m.value=!0;try{const e=await fetch(`/mobile-de/refdata/classes/${d.classes}/categories`);if(!e.ok)throw new Error(`Failed to fetch data, status: ${e.status}`);u.value=await e.json()}catch(e){console.error("Failed to load Reference Data:",e)}finally{m.value=!1}})),(e,a)=>{const t=i("v-select");return n(),o(t,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),items:u.value,"item-text":"description","item-value":"name",disabled:e.disabled,loading:m.value},null,8,["modelValue","items","disabled","loading"])}}}),[["__file","interface.vue"]]),types:["string"],group:"selection",options:()=>({standard:v.path.map((e=>({field:e,name:e,type:"string",meta:{width:"half",interface:"input",options:{label:e,trim:!0}}}))),advanced:[]})});const x={class:"vehicle-taxonomy-select"};var V=a({__name:"interface",props:{value:{default:null},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:a}){var t,o,m;const p=e,v=a,f=l(!0),y=l(!1),b=l((null==(t=null==p?void 0:p.value)?void 0:t.class)||null),h=l((null==(o=null==p?void 0:p.value)?void 0:o.make)||null),g=l((null==(m=null==p?void 0:p.value)?void 0:m.model)||null),w=l([]),_=l([]),V=l([]),k=l(!1),S=l(!1),$=l(!1);s((async()=>{await E(),f.value=!1}));const F=()=>{y.value||v("input",{class:b.value,make:h.value,model:g.value})};d((()=>p.value),(async(e,a)=>{JSON.stringify(e)!==JSON.stringify(a)&&(e?(f.value=!0,y.value=!0,0===w.value.length&&await E(),b.value=e.class,b.value&&(await M(b.value),h.value=e.make,h.value&&(await j(b.value,h.value),g.value=e.model)),f.value=!1,y.value=!1):f.value=!1)}),{immediate:!0});const E=async()=>{k.value=!0;try{const e=await fetch("/mobile-de/refdata/classes");if(!e.ok)throw new Error(`Failed to fetch classes: ${e.status}`);w.value=await e.json()}catch(e){console.error("Failed to load vehicle classes:",e)}finally{k.value=!1}},M=async e=>{S.value=!0;try{const a=await fetch(`/mobile-de/refdata/classes/${e}/makes`);if(!a.ok)throw new Error(`Failed to fetch makes: ${a.status}`);_.value=await a.json()}catch(e){console.error("Failed to load makes:",e)}finally{S.value=!1}},j=async(e,a)=>{$.value=!0;try{const t=await fetch(`/mobile-de/refdata/classes/${e}/makes/${a}/models`);if(!t.ok)throw new Error(`Failed to fetch models: ${t.status}`);V.value=await t.json()}catch(e){console.error("Failed to load models:",e)}finally{$.value=!1}};return d(b,(async(e,a)=>{f.value||e===a||(h.value=null,g.value=null,_.value=[],V.value=[],e&&await M(e),F())})),d(h,(async(e,a)=>{f.value||e===a||(g.value=null,V.value=[],b.value&&e&&await j(b.value,e),F())})),d(g,((e,a)=>{f.value||e===a||F()})),(e,a)=>{const t=i("v-select");return n(),r("div",x,[c(" Class selector "),u(t,{modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=e=>b.value=e),items:w.value,"item-text":"description","item-value":"name",disabled:e.disabled,loading:k.value,placeholder:"Select class",class:"taxonomy-select-item"},null,8,["modelValue","items","disabled","loading"]),c(" Make selector "),u(t,{modelValue:h.value,"onUpdate:modelValue":a[1]||(a[1]=e=>h.value=e),items:_.value,"item-text":"description","item-value":"name",disabled:e.disabled||!b.value,loading:S.value,placeholder:"Select make",class:"taxonomy-select-item"},null,8,["modelValue","items","disabled","loading"]),c(" Model selector "),u(t,{modelValue:g.value,"onUpdate:modelValue":a[2]||(a[2]=e=>g.value=e),items:V.value,"item-text":"description","item-value":"name",disabled:e.disabled||!h.value,loading:$.value,placeholder:"Select model",class:"taxonomy-select-item"},null,8,["modelValue","items","disabled","loading"])])}}}),k=[],S=[];!function(e,a){if(e&&"undefined"!=typeof document){var t,l=!0===a.prepend?"prepend":"append",s=!0===a.singleTag,i="string"==typeof a.container?document.querySelector(a.container):document.getElementsByTagName("head")[0];if(s){var n=k.indexOf(i);-1===n&&(n=k.push(i)-1,S[n]={}),t=S[n]&&S[n][l]?S[n][l]:S[n][l]=o()}else t=o();65279===e.charCodeAt(0)&&(e=e.substring(1)),t.styleSheet?t.styleSheet.cssText+=e:t.appendChild(document.createTextNode(e))}function o(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),a.attributes)for(var t=Object.keys(a.attributes),s=0;s<t.length;s++)e.setAttribute(t[s],a.attributes[t[s]]);var n="prepend"===l?"afterbegin":"beforeend";return i.insertAdjacentElement(n,e),e}}("\n.vehicle-taxonomy-select[data-v-c418f1bf] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 16px;\n}\n.taxonomy-select-item[data-v-c418f1bf] {\n  flex: 1;\n  min-width: 0;\n}\n@media (max-width: 768px) {\n.vehicle-taxonomy-select[data-v-c418f1bf] {\n    flex-direction: column;\n    gap: 8px;\n}\n}\n",{});const $=[h,g,w,_,e({id:"mobile-de-interface-vehicle-taxonomy-select",name:"Mobile.de Vehicle Taxonomy",description:"Mobile.de Seller API Vehicle Taxonomy",icon:"directions_car",component:p(V,[["__scopeId","data-v-c418f1bf"],["__file","interface.vue"]]),types:["json"],group:"selection",options:()=>({standard:[],advanced:[]})})],F=[],E=[],M=[],j=[],D=[],A=[];export{F as displays,$ as interfaces,E as layouts,M as modules,A as operations,j as panels,D as themes};
