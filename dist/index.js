import{defineInterface as e}from"@directus/extensions-sdk";import{defineComponent as t,computed as a,ref as s,onMounted as i,resolveComponent as r,openBlock as n,createBlock as o}from"vue";const l=["classes","airbags","batterymanufacturers","batteries","batterypositions","bendinglightstypes","bikegeartypes","bikesuitablefor","breakdownservices","climatisations","colors","conditions","countryversion","daytimerunninglamps","doorcounts","drivingcabs","drivingmodes","drivetypes","emissionclasses","emissionstickers","framematerials","frameshapes","fuelconsumptionunits","fuels","gearboxes","headlighttypes","heatingtypes","heighttypes","hydraulicinstallations","interiorcolors","interiortypes","lengthtypes","motorpositions","nominalinterestratetypes","parkingassistants","paybackperiods","petroltypes","plugtypes","pricerating","pricetypes","radiotypes","slidingdoortypes","speedcontrols","trailercouplingtypes","usagetypes","wheelbases","wheelformulas","classes/Car/categories","classes/Car/makes","sites/GERMANY/classes/Car/usedcarseals","sites/GERMANY/vatrates"];var c=e({id:"directus-extension-mobile-de",name:"Mobile de Reference Data",description:"Mobile DE Seller API Reference Data Types",icon:"directions_car",component:((e,t)=>{const a=e.__vccOpts||e;for(const[e,s]of t)a[e]=s;return a})(t({__name:"interface",props:{value:{default:null},type:{},disabled:{type:Boolean,default:!1},reference_data_type:{default:null}},emits:["input"],setup(e,{emit:t}){const l=e,c=t,d=a({get:()=>l.value,set:e=>{c("input",e)}}),p=s([]),u=s(!1);return i((async()=>{u.value=!0;try{p.value=await function(e){const t="undefined"!=typeof navigator&&navigator.language.split("-")[0]||"de";return new Promise(((a,s)=>{fetch(`https://services.mobile.de/refdata/${e}`,{headers:{Accept:"application/vnd.de.mobile.api+json","Accept-Language":t}}).then((e=>(e.ok||s(new Error(`Failed to fetch data, status: ${e.status}`)),e.json()))).then((e=>a(e.values))).catch((e=>{s(new Error(`Failed to fetch data: ${String(e)}`))}))}))}(l.reference_data_type)}catch(e){console.error("Failed to load Reference Data:",e)}finally{u.value=!1}})),(e,t)=>{const a=r("v-select");return n(),o(a,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),items:p.value,"item-text":"description","item-value":"name",disabled:e.disabled,clearable:e.clear,loading:u.value},null,8,["modelValue","items","disabled","clearable","loading"])}}}),[["__file","interface.vue"]]),types:["string"],group:"selection",options:()=>({standard:[{field:"reference_data_type",name:"Reference Data Type",type:"string",meta:{required:!0,width:"full",interface:"select-dropdown",options:{choices:l.map((e=>({text:e,value:e})))}}}],advanced:[]})});export{c as default};
